local TypeAb = {
	["钻石"] = {
		["Name"] = "Diamond",
		["Texture"] = "http://www.roblox.com/asset/?id=18442360949",
		["PartColor"] = Color3.new(0,0.48,1),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 100,
		["SPA"] = 100,
		["RNG"] = 0,
		["COST"] = -35,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["诅咒"] = {
		["Name"] = "Cursed",
		["Texture"] = "http://www.roblox.com/asset/?id=1619172543",
		["PartColor"] = Color3.new(0,0,0),
		["TextureColor"] = Color3.new(0,0,0),
		["LightColor"] = Color3.new(1,0,0),
		["DMG"] = 350,
		["SPA"] = -30,
		["RNG"] = 35,
		["COST"] = -35,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["黄金"] = {
		["Name"] = "Gold",
		["Texture"] = "http://www.roblox.com/asset/?id=4685786041",
		["PartColor"] = Color3.new(1,0.666,0),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 50,
		["SPA"] = 50,
		["RNG"] = 0,
		["COST"] = -25,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["普通"] = {},
	["暗物质"] = {
		["Name"] = "DarkMatter",
		["Texture"] = "http://www.roblox.com/asset/?id=13408058843",
		["PartColor"] = Color3.new(0,0,0),
		["TextureColor"] = Color3.new(0,0,0),
		["LightColor"] = Color3.new(1,0,1),
		["TweenToLightColor"] = Color3.new(0.5,0,1),
		["DMG"] = 125,
		["SPA"] = 125,
		["RNG"] = 20,
		["COST"] = -40,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["彩色渐变"] = {
		["Name"] = "Randow",
		["RandowType"] = {"BasePart","Light","ParticleEmitter"},
		["DMG"] = 100,
		["SPA"] = 100,
		["RNG"] = 100,
		["COST"] = -100,
		["CASH"] = 100,
		["HD"] = 1,
	},
	["熔岩"] = {
		["Name"] = "Lava",
		["Texture"] = "http://www.roblox.com/asset/?id=8284531810",
		["PartColor"] = Color3.new(1,0.5,0),
		["TextureColor"] = Color3.new(1,1,1),
		["LightColor"] = Color3.new(1,1,0),
		["TweenToLightColor"] = Color3.new(1,0.5,0),
		["DMG"] = 75,
		["SPA"] = 75,
		["RNG"] = 0,
		["COST"] = -30,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["钻石块"] = {
		["Name"] = "DiamondBlock",
		["Texture"] = "http://www.roblox.com/asset/?id=59406069",
		["PartColor"] = Color3.new(0,1,1),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 900,
		["SPA"] = 900,
		["RNG"] = 0,
		["COST"] = -315,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["绿宝石"] = {
		["Name"] = "Emerald",
		["Texture"] = "http://www.roblox.com/asset/?id=15646042014",
		["PartColor"] = Color3.new(0,1,0.5),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 200,
		["SPA"] = 200,
		["RNG"] = 30,
		["COST"] = -50,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["金块"] = {
		["Name"] = "GoldBlock",
		["Texture"] = "http://www.roblox.com/asset/?id=14934313194",
		["PartColor"] = Color3.new(1,1,0),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 450,
		["SPA"] = 450,
		["RNG"] = 0,
		["COST"] = -225,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["绿宝石块"] = {
		["Name"] = "EmeraldBlock",
		["Texture"] = "http://www.roblox.com/asset/?id=11425725278",
		["PartColor"] = Color3.new(0,1,0.5),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 1800,
		["SPA"] = 1800,
		["RNG"] = 30,
		["COST"] = -450,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["最强皮肤"] = {
		["Name"] = "Rick",
		["Texture"] = "http://www.roblox.com/asset/?id=6403436054",
		["PartColor"] = Color3.new(1,1,1),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = -1145,
		["SPA"] = -1145,
		["RNG"] = -1145,
		["COST"] = 1145,
		["CASH"] = -1145,
		["HD"] = 1,
	},
	["找不到材质"] = {
		["Name"] = "MissingTexture",
		["Texture"] = "http://www.roblox.com/asset/?id=6729906984",
		["PartColor"] = Color3.new(1,0,1),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = -100,
		["SPA"] = -100,
		["RNG"] = -100,
		["COST"] = -100,
		["CASH"] = -100,
		["HD"] = 1,
	},
	["木板"] = {
		["Name"] = "Plank",
		["Texture"] = "http://www.roblox.com/asset/?id=12470614250",
		["PartColor"] = Color3.new(0.831373, 0.423529, 0.14902),
		["TextureColor"] = Color3.new(1,1,1),
		["DMG"] = 20,
		["SPA"] = 20,
		["RNG"] = 0,
		["COST"] = 10,
		["CASH"] = 0,
		["HD"] = 1,
	},
	["基岩"] = {
		["Name"] = "Bedrock",
		["Texture"] = "http://www.roblox.com/asset/?id=12252439624",
		["PartColor"] = Color3.new(0.517647, 0.517647, 0.517647),
		["TextureColor"] = Color3.new(1,1,1),
		["RandowLight"] = true,
		["DMG"] = 1145,
		["SPA"] = 1145,
		["RNG"] = 50,
		["COST"] = 100,
		["CASH"] = 500,
		["HD"] = 1,
	},
	["下届合金块"] = {
		["Name"] = "NetheriteBlock",
		["Texture"] = "http://www.roblox.com/asset/?id=7696392982",
		["PartColor"] = Color3.new(0.337255, 0.337255, 0.337255),
		["TextureColor"] = Color3.new(1,1,1),
		["RandowLight"] = true,
		["DMG"] = 114,
		["SPA"] = 514,
		["RNG"] = 50,
		["COST"] = 75,
		["CASH"] = 200,
		["HD"] = 1,
	},
	["大杂烩"] = {
		["Name"] = "Random",
		["Texture"] = "http://www.roblox.com/asset/?id=7696392982",
		["Texture1"] = "http://www.roblox.com/asset/?id=12252439624",
		["Texture2"] = "http://www.roblox.com/asset/?id=12470614250",
		["Texture3"] = "http://www.roblox.com/asset/?id=11425725278",
		["Texture4"] = "http://www.roblox.com/asset/?id=14934313194",
		["Texture5"] = "http://www.roblox.com/asset/?id=59406069",
		["PartColor"] = Color3.new(0.576471, 0.576471, 0.576471),
		["TextureColor"] = Color3.new(1,1,1),
		["RandowLight"] = true,
		["DMG"] = 1000,
		["SPA"] = 1000,
		["RNG"] = 100,
		["COST"] = 200,
		["CASH"] = 1000,
		["HD"] = 1,
	}
}
local Types = {}
for i,v in pairs(TypeAb) do
	Types[#Types+1] = i
end
local l = false
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local httpService = game:GetService("HttpService")
local units = loadstring(game:HttpGet('https://raw.githubusercontent.com/qianchengawa/SDHub/refs/heads/main/Units.txt'))()
local TweenService = game:GetService("TweenService")
function GetTowersData()
	local towers = {}
	for i=1,#workspace.Scripted.TowerData:GetChildren() , 1 do-- in ipairs(workspace.Scripted.TowerData:GetChildren()) do
		local v = workspace.Scripted.TowerData:GetChildren()[tonumber(i)]
		if v == nil then
			break
		end
		towers[tonumber(i)] = tostring(v.Name.."/"..v:GetAttribute("ID"))
	end
	for i,v in pairs(towers) do
		print(i.." "..v)
	end
	return towers
end
function Save(data)
	local fullPath = "SDHub.json"
	local success, encoded = pcall(httpService.JSONEncode, httpService, data)
	if not success then
		return false
	end
	writefile(fullPath, encoded)
	return true
end

function Load()
	local file = "SDHub.json"
	if not isfile(file) then return false end

	local success, decoded = pcall(httpService.JSONDecode, httpService, readfile(file))
	if not success then return false end
	return decoded
end

local Window = Rayfield:CreateWindow({
	Name = "SDHub V2.21",
	Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
	LoadingTitle = "SDHub",
	LoadingSubtitle = "by 牢大",
	Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes
	DisableRayfieldPrompts = false,
	DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface
	ConfigurationSaving = {
		Enabled = false,
	},
})

if game.PlaceId == 14279724900 then --游戏内
	local Tab = Window:CreateTab("主要功能", 4483362458)
	local part = Instance.new("Part")
	local speed = 1


	local Section = Tab:CreateSection("倍速")


	local Dropdown = Tab:CreateDropdown({
		Name = "选择倍速",
		Options = {"1","2", "3", "4", "5"},
		CurrentOption = {"1"},
		MultipleOptions = false,
		Callback = function(Options)
			speed = tonumber(unpack(Options))
			print(unpack(Options))
		end,
	})
	local V = false
	local Toggle = Tab:CreateToggle({
		Name = "锁定倍速",
		CurrentValue = false,
		Callback = function(Value)
			V = Value
			pcall(function()
				while V do
					repeat wait() until game:GetService("ReplicatedStorage"):WaitForChild("Game"):WaitForChild("Speed").Value ~= speed
					game:GetService("ReplicatedStorage"):WaitForChild("Game"):WaitForChild("Speed"):WaitForChild("Change"):FireServer(tonumber(speed))
				end
			end)
		end,
	})


	local Section = Tab:CreateSection("视角")


	local Button = Tab:CreateButton({
		Name = "保存当前视角位置",
		Callback = function()
			game:GetService("Players").LocalPlayer.CameraMinZoomDistance = game:GetService("Players").LocalPlayer.CameraMaxZoomDistance
			part.CFrame = game:GetService("Players").LocalPlayer.Character:FindFirstChild("HumanoidRootPart").CFrame
			wait(1)
			game:GetService("Players").LocalPlayer.CameraMinZoomDistance = 0.5
			Save({HumanoidCFrame = tostring(game:GetService("Players").LocalPlayer.Character:FindFirstChild("HumanoidRootPart").CFrame),CameraCFrame = tostring(workspace.CurrentCamera.CFrame)})
		end,
	})
	local V1 = false
	local Toggle = Tab:CreateToggle({
		Name = "锁定视角到保存位置",
		CurrentValue = false,
		Callback = function(Value)
			V1 = Value
			local cc
			local hc
			pcall(function()
				local data = Load()
				for i,v in pairs(data) do
					if i == "CameraCFrame" then
						local cefra = v:split(", ")
						cc = CFrame.new(unpack(cefra))
					elseif i == "HumanoidCFrame" then
						local cefra = v:split(", ")
						hc = CFrame.new(unpack(cefra))
					end
				end
			end)
			workspace.CurrentCamera:GetPropertyChangedSignal("CFrame"):Connect(function()
				if V1 == true then
					game:GetService("Players").LocalPlayer.CameraMinZoomDistance = game:GetService("Players").LocalPlayer.CameraMaxZoomDistance
					workspace.CurrentCamera.CameraSubject = part
					workspace.CurrentCamera.CFrame = cc
					part.CFrame = hc
					part.Anchored = true
					part.Transparency = 1
					part.CanCollide = false
				else
					workspace.CurrentCamera.CameraSubject = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Humanoid")
					game:GetService("Players").LocalPlayer.CameraMinZoomDistance = 0.5
					return
				end
			end)

		end
	})


	local Section = Tab:CreateSection("辅助")


	local V2 = false
	local Toggle = Tab:CreateToggle({
		Name = "自动跳过",
		CurrentValue = false,
		Flag = "WavwSkip", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
		Callback = function(Value)
			V2 = Value
			task.spawn(function()
				while V2 do
					game:GetService("ReplicatedStorage"):WaitForChild("Event"):WaitForChild("waveSkip"):FireServer(true)
					wait(.1)
				end
			end)
		end,
	})










	local Tab = Window:CreateTab("娱乐功能", "audio-lines")

	local Section = Tab:CreateSection("塔(仅自己可见)")

	local atowers = GetTowersData()

	local TowerData
	local TowerModel
	local ClockNope = Instance.new("BoolValue")
	local Dropdown = Tab:CreateDropdown({
		Name = "选择塔",
		Options = atowers,
		MultipleOptions = false,
		Flag = "SLTower", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
		Callback = function(Options)
			local Tower = unpack(Options)
			TowerModel = workspace.Scripted.Towers[tostring(string.sub(Tower,0,string.find(Tower,"/") - 1))]
			TowerData = workspace.Scripted.TowerData[tostring(string.sub(Tower,0,string.find(Tower,"/") - 1))]
			ClockNope.Value = TowerData:GetAttribute("ClockNope")
		end,
	})

	workspace.Scripted.TowerData.ChildRemoved:Connect(function()
		Dropdown:Refresh(GetTowersData())
	end)
	workspace.Scripted.TowerData.ChildAdded:Connect(function()
		Dropdown:Refresh(GetTowersData())
	end)
	local function AddDec(Color,Texture,Name,Face,Parent)
		local p = Instance.new("Decal")
		p.Color3 = Color
		p.Texture = Texture
		p.Name = Name
		p.Face = Face
		p.ZIndex = 1
		p.Parent = Parent
		return p
	end
	local function RandowP(v)
		if v:IsA("BasePart") or v:IsA("Light") or v:IsA("Decal") then
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(1, 0, 0)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(1, 0.5, 0)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(1, 1, 0)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(0, 1, 0)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(0, 1, 1)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(0, 0, 1)}):Play()
			wait(2)
			TweenService:Create(v,TweenInfo.new(2),{Color = Color3.new(0.5, 0, 1)}):Play()
			wait(2)
		elseif v:IsA("ParticleEmitter") then
			v.Color = ColorSequence.new(Color3.new(1,0,0))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(1,0.5,0))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(1,1,0))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(0,1,0))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(0,1,1))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(0,0,1))
			wait(2)
			v.Color = ColorSequence.new(Color3.new(0.5,0,1))
			wait(2)
		end
	end
	local function Randow(v,TowerModel,ShardType)
		task.spawn(function()
			repeat
				RandowP(v)
			until TowerModel:GetAttribute("ShardType") ~= ShardType
		end)
	end
	local function TweenColor(v,TowerModel,ShardType,ToColor1,ToColor2)
		task.spawn(function()
			repeat
				if v:IsA("ParticleEmitter") then
					pcall(function()
						v.Color = ToColor1
						wait(2)
						v.Color = ToColor2
						wait(2)
					end)
				else
					TweenService:Create(v,TweenInfo.new(2),{Color = ToColor1}):Play()
					wait(2)
					TweenService:Create(v,TweenInfo.new(2),{Color = ToColor2}):Play()
					wait(2)
				end
			until TowerModel:GetAttribute("ShardType") ~= ShardType
		end)
	end
	local function dec(TowerModel,Name,Texture,PartColor,TextureColor,LightColor,RandowType,TweenToPartColor,TweenToLightColor,RandowLight,t1,t2,t3,t4,t5)
		TowerModel:SetAttribute("ShardType", Name)
		for i, v in ipairs(TowerModel:GetDescendants()) do
			if v:IsA("Decal") then
				for i,a in pairs(TypeAb) do
					if v.Name == a.Name then
						v:Destroy()
					end
				end
			else
				if Name then
					local israndow = false
					if RandowType then
						for i,t in pairs(RandowType) do
							if v:IsA(t) then
								israndow = true
							end
						end
					end
					if israndow == false then
						if v:IsA("BasePart") then
							v.Color = PartColor
							if Texture and v.Transparency ~= 1 and v.Material ~= Enum.Material.Neon then
								if t1 then
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Front,v)
									AddDec(TextureColor,t1,Name,Enum.NormalId.Back,v)
									AddDec(TextureColor,t2,Name,Enum.NormalId.Top,v)
									AddDec(TextureColor,t3,Name,Enum.NormalId.Bottom,v)
									AddDec(TextureColor,t4,Name,Enum.NormalId.Left,v)
									AddDec(TextureColor,t5,Name,Enum.NormalId.Right,v)
								else
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Front,v)
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Back,v)
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Top,v)
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Bottom,v)
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Left,v)
									AddDec(TextureColor,Texture,Name,Enum.NormalId.Right,v)
								end
							elseif not Texture and v.Transparency ~= 1 and v.Material ~= Enum.Material.Neon then
								v.Color = PartColor
								if TweenToPartColor then
									TweenColor(v,TowerModel,Name,PartColor,TweenToPartColor)
								end
							elseif v.Material == Enum.Material.Neon then
								if LightColor then
									v.Color = LightColor
								elseif RandowLight then
									Randow(v,TowerModel,Name)
								else
									v.Color = PartColor
								end
								if TweenToLightColor then
									TweenColor(v,TowerModel,Name,LightColor,TweenToLightColor)
								end
							end
						elseif v:IsA("ParticleEmitter") then
							if LightColor then
								v.Color = ColorSequence.new(LightColor)
							elseif RandowLight then
								Randow(v,TowerModel,Name)
							else
								v.Color = ColorSequence.new(PartColor)
							end
							if TweenToLightColor then
								TweenColor(v,TowerModel,Name,ColorSequence.new(LightColor),ColorSequence.new(TweenToLightColor))
							end
						elseif v:IsA("Light") then
							if LightColor then
								v.Color = LightColor
							elseif RandowLight then
								Randow(v,TowerModel,Name)
							else
								v.Color = PartColor
							end
							if TweenToLightColor then
								TweenColor(v,TowerModel,Name,LightColor,TweenToLightColor)
							end
						end
					elseif israndow == true then
						Randow(v,TowerModel,Name)
					end
				end
			end
		end
	end
	local Dropdown = Tab:CreateDropdown({
		Name = "伪装品质",
		Options = Types,
		MultipleOptions = false,
		Flag = "SLSkin", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
		Callback = function(Options)
			local pz = unpack(Options)
			if pz == "钻石" then
				TowerData:SetAttribute("ShardType","Diamond")
			elseif pz == "诅咒" then
				TowerData:SetAttribute("ShardType","Cursed")
			elseif pz == "黄金" then
				TowerData:SetAttribute("ShardType","Golden")
			elseif pz == "普通" then
				TowerData:SetAttribute("ShardType",nil)
			end
			if not TowerData.Boosters:FindFirstChild("Special") then
				local sp = Instance.new("NumberValue",TowerData.Boosters)
				sp.Name = "Special"
				local dm = Instance.new("NumberValue",sp)
				dm.Name = "DMG"
				local spa = Instance.new("IntValue",sp)
				spa.Name = "SPA"
				local rng = Instance.new("IntValue",sp)
				rng.Name = "RNG"
				local cos = Instance.new("IntValue",sp)
				cos.Name = "COST"
				local cas = Instance.new("IntValue",sp)
				cas.Name = "CASH"
				local hd = Instance.new("IntValue",sp)
				hd.Name = "HD"
			end
			wait()
			for i,v in ipairs(TowerData.Boosters:FindFirstChild("Special"):GetChildren()) do
				if v:IsA("NumberValue") then
					v.Value = TypeAb[pz][v.Name]
				elseif v:IsA("IntValue") then
					v.Value = tostring(TypeAb[pz][v.Name])
				end
			end
			local Tabl = TypeAb[pz]
			dec(TowerModel,Tabl.Name,Tabl.Texture,Tabl.PartColor,Tabl.TextureColor,Tabl.LightColor,Tabl.RandowType,Tabl.TweenToPartColor,Tabl.TweenToLightColor,Tabl.RandowLight,Tabl.Texture1,Tabl.Texture2,Tabl.Texture3,Tabl.Texture4,Tabl.Texture5)
		end,
	})

	local buff

	local Dropdown = Tab:CreateDropdown({
		Name = "选择buff",
		Options = {"伤害","攻速","范围","减费","收入","未知"},
		MultipleOptions = false,
		Flag = "SLSkin", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
		Callback = function(Options)
			local pz = unpack(Options)
			if not TowerData.Boosters:FindFirstChild("Special") then
				local sp = Instance.new("NumberValue",TowerData.Boosters)
				sp.Name = "Special"
				local dm = Instance.new("NumberValue",sp)
				dm.Name = "DMG"
				local spa = Instance.new("IntValue",sp)
				spa.Name = "SPA"
				local rng = Instance.new("IntValue",sp)
				rng.Name = "RNG"
				local cos = Instance.new("IntValue",sp)
				cos.Name = "COST"
				local cas = Instance.new("IntValue",sp)
				cas.Name = "CASH"
				local hd = Instance.new("IntValue",sp)
				hd.Name = "HD"
			end
			if pz == "伤害" then
				buff = TowerData.Boosters.Special.DMG
			elseif pz == "攻速" then
				buff = TowerData.Boosters.Special.SPA
			elseif pz == "范围" then
				buff = TowerData.Boosters.Special.RNG
			elseif pz == "减费" then
				buff = TowerData.Boosters.Special.COST
			elseif pz == "收入" then
				buff = TowerData.Boosters.Special.CASH
			elseif pz == "未知" then
				buff = TowerData.Boosters.Special.HD
			end
		end,
	})

	local Input = Tab:CreateInput({
		Name = "编辑buff数值",
		CurrentValue = "",
		PlaceholderText = "输入数字",
		RemoveTextAfterFocusLost = false,
		Flag = "Input1",
		Callback = function(Text)
			if buff then
				buff.Value = tonumber(Text)
			end
		end,
	})

	local Toggle = Tab:CreateToggle({
		Name = "不能被时钟加成",
		CurrentValue = false,
		Flag = "Toggle1",
		Callback = function(Value)
			TowerData:SetAttribute("ClockNope",Value)
		end,
	})

	ClockNope.Changed:Connect(function()
		Toggle:Set(ClockNope.Value)
	end)

	local Input = Tab:CreateInput({
		Name = "编辑售卖价格",
		CurrentValue = "",
		PlaceholderText = "输入数字",
		RemoveTextAfterFocusLost = false,
		Flag = "Input2",
		Callback = function(Text)
			TowerData:SetAttribute("SellPrice",tonumber(Text))
		end,
	})

	local Input = Tab:CreateInput({
		Name = "编辑攻击模式文本",
		CurrentValue = "",
		PlaceholderText = "输入文本",
		RemoveTextAfterFocusLost = false,
		Flag = "Input2",
		Callback = function(Text)
			TowerData:SetAttribute("TargetMode",Text)
		end,
	})
	local Button = Tab:CreateButton({
		Name = "上古时期老塔",
		Callback = function()
			for i,v in ipairs(game:GetService("ReplicatedStorage").TowerData.old:GetChildren()) do
				local cu = #game:GetService("Players").LocalPlayer.PlayerGui.Towers.Towers:GetChildren() - 2
				local mode = v:Clone()
				local ui = game:GetService("Players").LocalPlayer.PlayerGui.Towers.UIListLayout.TowerFrame
				local frame = ui:Clone()
				frame.Parent = game:GetService("Players").LocalPlayer.PlayerGui.Towers.Towers
				frame.LayoutOrder = cu +1
				frame.Price.Text = "$"..tostring(1)
				frame.Keybind.Text = cu +1
				local wordmodel = frame.ViewportFrame.WorldModel
				local Camera = Instance.new("Camera")
				Camera.Parent = wordmodel
				Camera.CFrame = mode.Viewport.ViewportPart.CFrame
				frame.ViewportFrame.CurrentCamera = Camera
				local Model = mode.Viewport
				Model.Parent = wordmodel
				frame.MouseButton1Down:Connect(function()
					local nm = Model.Character:Clone()
					nm.Parent = workspace
					nm:PivotTo(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame)
					nm.Humanoid.Animator:LoadAnimation(v.Idle):Play()
				end)
			end
		end,
	})
elseif game.PlaceId == 14279693118 then --大厅
	local stype
	local Tab = Window:CreateTab("娱乐功能", "audio-lines")
	local Section = Tab:CreateSection("更改抽奖池子（自己可见）")
	local Dropdown = Tab:CreateDropdown({
		Name = "选择品质",
		Options = {"普通","罕见","稀有","史诗","传奇","神话","神圣"},
		MultipleOptions = false,
		Flag = "Dropdown1",
		Callback = function(Options)
			local t = unpack(Options)
			if t == "普通" then
				stype = "Common"
			elseif t == "罕见" then
				stype = "Uncommon"
			elseif t == "稀有" then
				stype = "Rare"
			elseif t == "史诗" then
				stype = "Epic"
			elseif t == "传奇" then
				stype = "Legendary"
			elseif t == "神话" then
				stype = "Mythical"
			elseif t == "神圣" then
				stype = "Godly"
			end
		end,
	})
	local Dropdown = Tab:CreateDropdown({
		Name = "更改为",
		Options = units,
		MultipleOptions = false,
		Flag = "Dropdown1",
		Callback = function(Options)
			if stype then
				game:GetService("ReplicatedStorage"):SetAttribute(stype,unpack(Options))
			end
		end,
	})
	local Section = Tab:CreateSection("全球经验（自己可见）")

	local Input = Tab:CreateInput({
		Name = "更改全球经验",
		CurrentValue = game:GetService("ReplicatedStorage"):GetAttribute("BattlepassGlobalXP"),
		PlaceholderText = "输入数字",
		RemoveTextAfterFocusLost = false,
		Flag = "Input1",
		Callback = function(Text)
			game:GetService("ReplicatedStorage"):SetAttribute("BattlepassGlobalXP",tonumber(Text))
		end,
	})
elseif game.PlaceId == 18711550363 then --交易大厅
	local cvl = Instance.new("NumberValue")
	local Tab = Window:CreateTab("主要功能", 4483362458)
	local Section = Tab:CreateSection("透视")
	local V = false
	local Toggle = Tab:CreateToggle({
		Name = "水晶透视",
		CurrentValue = false,
		Flag = "Toggle1",
		Callback = function(Value)
			V = Value
			task.spawn(function()
				pcall(function()
					game:GetService("RunService").RenderStepped:Connect(function()
						if V == true then
							for i,v in pairs (game:GetService("Workspace"):GetChildren()) do
								if v.Name == "Crystal" and v:GetAttribute("P") ~= true then
									pcall(function()
										v:SetAttribute("P",true)
										local hl = Instance.new("Highlight")
										hl.FillColor = v.Color
										hl.FillTransparency = 0
										hl.OutlineTransparency = 0.5
										hl.Parent = v
										local ui = Instance.new("BillboardGui")
										ui.AlwaysOnTop = true
										ui.Size = UDim2.new(0,100,0,50)
										ui.StudsOffset = Vector3.new(0,5,0)
										local text = Instance.new("TextLabel")
										text.Text = "Crystal"
										text.Size = UDim2.new(1,0,1,0)
										text.BackgroundTransparency = 1
										text.TextColor3 = v.Color
										text.Font = Enum.Font.SourceSansBold
										text.TextScaled = true
										text.Parent = ui
										ui.Parent = v
										ui.Adornee = v
									end)
								end
							end
						else
							for i,v in pairs (game:GetService("Workspace"):GetChildren()) do
								if v.Name == "Crystal" and v:GetAttribute("P") == true then
									pcall(function()
										v:FindFirstChild("BillboardGui"):Destroy()
										v:FindFirstChild("Highlight"):Destroy()
										v:SetAttribute("P",false)
									end)
								end
							end
							return
						end
					end)
				end)
			end)
		end,
	})


	local Section = Tab:CreateSection("实用")


	local ui = Instance.new("BillboardGui")
	ui.AlwaysOnTop = true
	ui.Size = UDim2.new(4,0,2,0)
	ui.ExtentsOffsetWorldSpace = Vector3.new(0,5,0)
	ui.MaxDistance = 32
	local text = Instance.new("TextLabel")
	text.TextStrokeColor3 = Color3.new(0, 0, 0)
	text.TextStrokeTransparency = 0
	text.Size = UDim2.new(1,0,0.5,0)
	text.BackgroundTransparency = 1
	text.Font = Enum.Font.SourceSansBold
	text.TextScaled = true
	local V2 = false
	local Toggle = Tab:CreateToggle({
		Name = "显示玩家状态",
		CurrentValue = false,
		Flag = "Toggle1",
		Callback = function(Value)
			V2 = Value
			game:GetService("RunService").RenderStepped:Connect(function()
				if V2 == true then
					for i,v in ipairs (game:GetService("Players"):GetPlayers()) do
						if v:GetAttribute("P") ~= true then
							pcall(function()
								local cui = ui:Clone()
								local Character = v.Character or v.CharacterAdded:Wait()
								cui.Parent = Character:FindFirstChild("HumanoidRootPart")
								local value = text:Clone()
								value.Position = UDim2.new(0,0,0,0)
								value.Parent = cui
								value.Text = tostring("仓库总价值"..string.sub(Character.HumanoidRootPart.Value.TextLabel.Text,string.find(Character.HumanoidRootPart.Value.TextLabel.Text,":")+1,-1))
								Character.HumanoidRootPart.Value.TextLabel:GetPropertyChangedSignal("Text"):Connect(function()
									value.Text = tostring("仓库总价值"..string.sub(Character.HumanoidRootPart.Value.TextLabel.Text,string.find(Character.HumanoidRootPart.Value.TextLabel.Text,":")+1,-1))
								end)
								Character.HumanoidRootPart.ChildRemoved:Connect(function(valuet)
									if valuet.Name == "Value" then
										Character.HumanoidRootPart.ChildAdded:Connect(function(valuea)
											if valuea.Name == "Value" then
												value.Text = tostring("仓库总价值"..string.sub(valuea.TextLabel.Text,string.find(valuea.TextLabel.Text,":")+1,-1))
											end
										end)
									end
								end)
								value.TextColor3 = Character.HumanoidRootPart.Value.TextLabel.TextColor3
								local trading = text:Clone()
								text.Position = UDim2.new(0,0,0.5,0)
								trading.Parent = cui
								if v:GetAttribute("Trading") then
									trading.Text = tostring("交易状态: 正在与'"..v:GetAttribute("Trading").."'交易")
									trading.TextColor3 = Color3.fromRGB(217, 0, 255)
								else
									trading.Text = "交易状态: 空闲"
									trading.TextColor3 = Color3.fromRGB(143, 255, 51)
								end
								v:GetAttributeChangedSignal("Trading"):Connect(function()
									if v:GetAttribute("Trading") then
										trading.Text = tostring("交易状态: 正在与'"..v:GetAttribute("Trading").."'交易")
										trading.TextColor3 = Color3.fromRGB(217, 0, 255)
									else
										trading.Text = "交易状态: 空闲"
										trading.TextColor3 = Color3.fromRGB(143, 255, 51)
									end
								end)
								v:SetAttribute("P",true)
							end)
						end
					end
				else
					for i,v in ipairs (game:GetService("Players"):GetPlayers()) do
						if v:GetAttribute("P") == true then
							pcall(function()
								v.Character.HumanoidRootPart:FindFirstChild("BillboardGui"):Destroy()
								v:SetAttribute("P",false)
							end)
						end
					end
					return
				end
			end)
		end,
	})







	local Tab = Window:CreateTab("娱乐功能", "audio-lines")




	local Section = Tab:CreateSection("更改价格(仅自己可见)")
	local Values = game:GetService("ReplicatedStorage"):GetAttributes()
	local Attr = {}
	local count = 1
	local SLAttr
	for i,v in pairs(Values) do
		Attr[tonumber(count)] = i
		count += 1
	end
	local Dropdown = Tab:CreateDropdown({
		Name = "选择属性",
		Options = Attr,
		MultipleOptions = false,
		Flag = "Dropdown1",
		Callback = function(Options)
			SLAttr = unpack(Options)
			cvl.Value = game:GetService("ReplicatedStorage"):GetAttribute(SLAttr)
		end,
	})

	local Input = Tab:CreateInput({
		Name = "更改价值",
		CurrentValue = "",
		PlaceholderText = "输入数字",
		RemoveTextAfterFocusLost = false,
		Flag = "Input1",
		Callback = function(Text)
			if typeof(tonumber(Text)) == "number" then
				game:GetService("ReplicatedStorage"):SetAttribute(SLAttr,tonumber(Text))
			end
		end,
	})

	cvl.Changed:Connect(function()
		Input:Set(cvl.Value)
	end)
end
